FUNC HOFSTADER_G

g:
LEQZ G
BRANCH null base null null

PUSH G

SUBIs G 1
LOADI 0 TEMP
STORENEXTRED sp TEMP
JUMP g
return0:
LOADI 1 TEMP
STORENEXTRED sp TEMP
JUMP g
return1:

BOLs N $POP {}

NSUBs G N
JUMP return
base:

return:
LOADNEXT sp ACC
BRANCH return0 return1 null null

oob:
END



FUNC HOFSTADER_Q

q:
IS1OR2 N
BRANCH null base null null

PUSH N

SUBIs N 1
LOADI 0 TEMP
STORENEXTRED sp TEMP
LOADI 0 TEMP
STORENEXTRED sp TEMP
JUMP q
return00:

ADDIs N 1
SUBs N Q
LOADI 1 TEMP
STORENEXTRED sp TEMP
LOADI 0 TEMP
STORENEXTRED sp TEMP
JUMP q
return01:

BOLs N $TOP {}
PUSH Q

SUBIs N 2
LOADI 0 TEMP
STORENEXTRED sp TEMP
LOADI 1 TEMP
STORENEXTRED sp TEMP
JUMP q
return10:

ADDIs N 2
SUBs N Q
LOADI 1 TEMP
STORENEXTRED sp TEMP
LOADI 1 TEMP
STORENEXTRED sp TEMP
JUMP q
return11:

ADDs Q $POP
BOLs N $POP {}
JUMP return

base:
STORE1 Q

return:
LOADNEXT sp ACC
LOADNEXT sp TEMP
MAP {0x0:00, 0x1:01, 1x0:10, 1x1:11}
BRANCH return00 return01 return10 return11

oob:
END


PRIM IS1OR2 N
LOADI 0 ACC
LOADNEXT N ACC
LOADNEXT N TEMP
MAP {0x0:1, 0x1:0, 1x0:0, 1x1:1}
BRANCH null oob null null
next:
LOADNEXT N ACC
BRANCH null oob null null
JUMP next
oob:
MAP {0:1,1:0}
END


PRIM STORE1 N
LOADI 1 TEMP
STORENEXT N TEMP
next:
LOADI 0 TEMP
STORENEXT N TEMP
JUMP next
oob:
END
